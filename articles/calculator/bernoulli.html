<!DOCTYPE html>
<html>
  <head>
    <title>Nth Perfect Totient Number Calculator</title>
  </head>
  <body>
    <h1>Nth Perfect Totient Number Calculator</h1>
    <label for="input-n">Enter the value of n:</label>
    <input type="number" id="input-n" name="input-n" min="1">
    <button onclick="calculate()">Calculate</button>
    <p id="result"></p>
<script>
    function calculate() {
  const n = document.getElementById("input-n").value;

  if (n < 1 || isNaN(n)) {
    document.getElementById("result").innerHTML = "Please enter a valid positive integer value for n.";
  } else {
    const result = getNthPerfectTotientNumber(n);
    document.getElementById("result").innerHTML = `The ${n}th perfect totient number is ${result}.`;
  }
}

function getNthPerfectTotientNumber(n) {
  let count = 0;
  let num = 1;

  while (count < n) {
    if (isPerfectTotient(num)) {
      count++;
    }
    num++;
  }

  return num - 1;
}

function isPerfectTotient(num) {
  let totient = num;
  let i = 2;

  while (i * i <= num) {
    if (num % i === 0) {
      totient = totient / i * (i - 1);
      while (num % i === 0) {
        num = num / i;
      }
    }
    i++;
  }

  if (num > 1) {
    totient = totient / num * (num - 1);
  }

  return totient === num;
}

</script>
  </body>
</html>