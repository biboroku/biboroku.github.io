<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Calculate Bernoulli Number</title>
  </head>
  <body>
    <h1>Calculate Bernoulli Number v2</h1>
    <label for="n">Enter the index of Bernoulli number:</label>
    <input type="number" id="n">
    <button onclick="calculate()">Calculate</button>
    <p id="result"></p>
    <script src="https://unpkg.com/fraction.js"></script>
    <script>
      function calculate() {
        let n = document.getElementById("n").value;
        let result = document.getElementById("result");
        if (n < 0 || n % 1 !== 0) {
          result.innerText = "Please enter a non-negative integer";
          return;
        }
        if (n === 0) {
          result.innerText = "1";
          return;
        }
        let numerator = [1];
        let denominator = [1];
        for (let k = 1; k <= n; k++) {
          numerator.unshift(0);
          for (let j = 0; j < k; j++) {
            numerator[j] = numerator[j].add(denominator[j]);
          }
          for (let j = 1; j <= k; j++) {
            denominator[j] = denominator[j].add(denominator[j - 1]);
          }
        }
        let bernoulliNumber = new Fraction(numerator[0], denominator[0]);
        result.innerText = `B${n} = ${bernoulliNumber.toFraction()}`;
      }
    </script>
  </body>
</html>
