<!DOCTYPE html>
<html>
  <head>
    <title>ベルヌーイ数計算機</title>
    <script>
      // ベルヌーイ数を計算する関数
      function bernoulli(n) {
        // 初期値設定
        let result = 1;
        let numerator = 1;

        // ループを使用してベルヌーイ数を計算する
        for (let m = 0; m < n; m++) {
          numerator *= (n - m);
          result += numerator / (m + 2);
        }

        return result;
      }

      // フォームを送信する関数
      function handleSubmit(event) {
        event.preventDefault();
        const input = document.getElementById("input-number");
        const output = document.getElementById("output");
        const n = parseInt(input.value);

        if (isNaN(n) || n < 0) {
          output.textContent = "無効な入力です";
        } else {
          const b = bernoulli(n);
          output.textContent = `第${n}番目のベルヌーイ数は ${b} です`;
        }
      }

      // ページ読み込み時に実行する関数
      window.onload = function() {
        const form = document.getElementById("input-form");
        form.addEventListener("submit", handleSubmit);
      }
    </script>
  </head>
  <body>
    <h1>ベルヌーイ数計算機</h1>
    <form id="input-form">
      <label for="input-number">計算するベルヌーイ数の番号を入力してください:</label>
      <input type="number" id="input-number" name="input-number" required>
      <button type="submit">計算する</button>
    </form>
    <div id="output"></div>
  </body>
</html>
