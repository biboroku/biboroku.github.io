<!DOCTYPE html>
<html>
<head>
  <title>複素数計算機</title>
  <script>
    function add() {
      var a = document.getElementById("a1").value;
      var b = document.getElementById("b1").value;
      var c = document.getElementById("a2").value;
      var d = document.getElementById("b2").value;
      var re = parseFloat(a) + parseFloat(c);
      var im = parseFloat(b) + parseFloat(d);
      document.getElementById("result").innerHTML = re + " + " + im + "i";
    }
    
    function subtract() {
      var a = document.getElementById("a1").value;
      var b = document.getElementById("b1").value;
      var c = document.getElementById("a2").value;
      var d = document.getElementById("b2").value;
      var re = parseFloat(a) - parseFloat(c);
      var im = parseFloat(b) - parseFloat(d);
      document.getElementById("result").innerHTML = re + " + " + im + "i";
    }
    
    function multiply() {
      var a = document.getElementById("a1").value;
      var b = document.getElementById("b1").value;
      var c = document.getElementById("a2").value;
      var d = document.getElementById("b2").value;
      var re = parseFloat(a) * parseFloat(c) - parseFloat(b) * parseFloat(d);
      var im = parseFloat(a) * parseFloat(d) + parseFloat(b) * parseFloat(c);
      document.getElementById("result").innerHTML = re + " + " + im + "i";
    }
    
    function divide() {
      var a = document.getElementById("a1").value;
      var b = document.getElementById("b1").value;
      var c = document.getElementById("a2").value;
      var d = document.getElementById("b2").value;
      var denom = parseFloat(c) * parseFloat(c) + parseFloat(d) * parseFloat(d);
      var re = (parseFloat(a) * parseFloat(c) + parseFloat(b) * parseFloat(d)) / denom;
      var im = (parseFloat(b) * parseFloat(c) - parseFloat(a) * parseFloat(d)) / denom;
      document.getElementById("result").innerHTML = re + " + " + im + "i";
    }
  </script>
</head>
<body>
  <h1>複素数計算機</h1>
  <form>
    <input type="text" id="a1"> + <input type="text" id="b1">i
    <select>
      <option value="add">+</option>
      <option value="subtract">-</option>
      <option value="multiply">*</option>
      <option value="divide">/</option>
    </select><br>
    <input type="text" id="a2"> + <input type="text" id="b2">i
    <input type="button" value="Calculate" onclick="eval(document.querySelector('select').value)();">
  </form>
  <br>
  <div id="result"></div>
</body>
</html>
