<!DOCTYPE html>
<html>
<head>
	<title>グラフ表示アプリ</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
	<h1>グラフ表示アプリ</h1>
	<label for="function-input">関数を入力してください:</label>
	<input type="text" id="function-input">
	<canvas id="myChart"></canvas>

	<script>
		var ctx = document.getElementById('myChart').getContext('2d');
		var x = [];
		var y = [];

		// 関数の式を入力するテキストボックス
		var functionInput = document.getElementById('function-input');

		// テキストボックスの値が変更されたときにグラフを再描画
		functionInput.addEventListener('input', function() {
			var expression = functionInput.value;
			var xMin = -10;
			var xMax = 10;

			x = [];
			y = [];

			for (var i = xMin; i <= xMax; i++) {
				x.push(i);
			}

			for (var i = 0; i < x.length; i++) {
				var result = eval(expression.replace(/x/g, x[i]));
				y.push(result);
			}

			chart.data.datasets[0].data = y;
			chart.data.datasets[0].label = expression;
			chart.update();
		});

		var chart = new Chart(ctx, {
			type: 'line',
			data: {
				labels: x,
				datasets: [{
					label: '',
					data: y,
					borderColor: 'rgba(255, 99, 132, 1)',
					fill: false
				}]
			},
			options: {
				scales: {
					xAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'x'
						}
					}],
					yAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'y'
						}
					}]
				}
			}
		});
	</script>
</body>
</html>
