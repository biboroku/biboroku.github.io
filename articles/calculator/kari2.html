<!DOCTYPE html>
<html>
  <head>
    <title>筆算で√nを解く</title>
  </head>
  <body>
    <h2>与えられた自然数nに対して√nを筆算で解く</h2>
    <label for="n">nの値を入力してください：</label>
    <input type="number" id="n" name="n" required>
    <button onclick="calculate()">計算する</button>
    <div id="answer"></div>
    
    <script>
      function calculate() {
        const n = document.getElementById("n").value;
        let ans = "";
        let remainder = "";
        let dividend = "";
        let divisor = "";
        let quotient = "";
        let dividendIndex = 0;

        for (let i = 0; i < n.toString().length; i++) {
          remainder += n.toString()[i];
          dividend = remainder + "0";
          divisor = (parseInt(quotient) * 2 + 1).toString();

          while (parseInt(dividend) >= parseInt(divisor)) {
            dividend = (parseInt(dividend) - parseInt(divisor)).toString();
            quotient = (parseInt(quotient) + 1).toString();
          }

          ans += quotient;
          dividendIndex++;

          if (dividendIndex == 1) {
            ans += ".";
          }

          remainder = dividend;
          dividend = "";
          divisor = "";
          quotient = "";
        }

        document.getElementById("answer").innerHTML = ans;
      }
    </script>
  </body>
</html>
