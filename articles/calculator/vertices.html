<!DOCTYPE html>
<html>
<head>
	<title>Combination Calculator</title>
</head>
<body>
	<h1>Combination Calculator</h1>
	<p>Calculate C(n, 4) and apply additional formulas based on the value of n.</p>
	<label for="inputN">Enter a natural number:</label>
	<input type="number" id="inputN">
	<button onclick="calculate()">Calculate</button>
	<p id="result"></p>

	<script>
		function calculate() {
			const n = document.getElementById("inputN").value;
			let result = combination(n, 4);

			if (n % 2 === 0) {
				result += (-5 * Math.pow(n, 3) + 45 * Math.pow(n, 2) - 70 * n + 24) / 24;
			}
			if (n % 4 === 0) {
				result -= 3 * n / 2;
			}
			if (n % 6 === 0) {
				result += (-45 * Math.pow(n, 2) + 262 * n) / 6;
			}
			if (n % 12 === 0) {
				result += 42 * n;
			}
			if (n % 18 === 0) {
				result += 60 * n;
			}
			if (n % 24 === 0) {
				result += 35 * n;
			}
			if (n % 30 === 0) {
				result -= 38 * n;
			}
			if (n % 42 === 0) {
				result -= 82 * n;
			}
			if (n % 60 === 0) {
				result -= 330 * n;
			}
			if (n % 84 === 0) {
				result -= 144 * n;
			}
			if (n % 90 === 0) {
				result -= 96 * n;
			}
			if (n % 120 === 0) {
				result -= 144 * n;
			}
			if (n % 210 === 0) {
				result -= 96 * n;
			}

			document.getElementById("result").innerHTML = "C(" + n + ", 4) = " + result;
		}

		function combination(n, k) {
			if (k > n) {
				return 0;
			}
			let numerator = 1;
			for (let i = n; i > n - k; i--) {
				numerator *= i;
			}
			let denominator = 1;
			for (let i = k; i > 0; i--) {
				denominator *= i;
			}
			return numerator / denominator;
		}
	</script>
</body>
</html>
