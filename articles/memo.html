<!DOCTYPE html>
<html>
  <head>
    <title>メモ帳</title>
    <script>
      function addMessage() {
        var name = document.getElementById("name").value;
        var message = document.getElementById("message").value;
        var board = document.getElementById("board");
        var newMessage = document.createElement("div");
        newMessage.innerHTML = "<strong>" + name + "</strong>: " + message;
        board.appendChild(newMessage);
        document.getElementById("name").value = "";
        document.getElementById("message").value = "";
        saveMessages();
      }

      function saveMessages() {
        var messages = [];
        var messageNodes = document.querySelectorAll("#board > div");
        for (var i = 0; i < messageNodes.length; i++) {
          messages.push(messageNodes[i].innerHTML);
        }
        localStorage.setItem("messages", JSON.stringify(messages));
      }

      function loadMessages() {
        var messages = JSON.parse(localStorage.getItem("messages"));
        if (messages) {
          var board = document.getElementById("board");
          for (var i = 0; i < messages.length; i++) {
            var newMessage = document.createElement("div");
            newMessage.innerHTML = messages[i];
            board.appendChild(newMessage);
          }
        }
      }
    </script>
  </head>
  <body onload="loadMessages()">
    <h1>Webメモ帳</h1>
    ローカルストレージを利用したかんたんなメモ帳です.ブラウザを変えると見られなくなります.他人に見られることもありません.
    <div>
      <label for="name">件名:</label>
      <input type="text" id="name" />
    </div>
    <div>
      <label for="message">内容:</label>
      <textarea id="message"></textarea>
    </div>
    <button onclick="addMessage()">保存</button>
    <div id="board"></div>
  </body>
</html>
